{{define "main"}}
<section xmlns:backgroundImage="http://www.w3.org/1999/xhtml">
    <div class="pt-36 mb-28">
        <div class="mx-auto px-6 max-w-6xl text-gray-500">
            <div class="text-center">
                <h2 class="text-3xl text-gray-950 dark:text-white font-semibold">Training</h2>
                <p class="mt-6 text-gray-700 dark:text-gray-300">Ikuti program training kami yang dirancang untuk mengembangkan keterampilan dan pengetahuan Anda. Dari pelatihan teknis hingga soft skills, kami menyediakan berbagai program untuk mendukung pertumbuhan profesional Anda.</p>
            </div>

            <div class="relative w-full h-96 overflow-hidden bg-gray-900 mt-14">
                <!-- Carousel Wrapper -->
                <div id="carousel" class="flex transition-transform duration-700 ease-in-out">

                    <!-- Slide 1 -->
                    <div class="w-full flex-shrink-0">
                        <div class="relative h-96 bg-cover bg-center" style="background-image: url('/src/img/t-nidya-karya/DSC_3486.jpg')">
                            <div class="absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"></div>
                            <a href="/t-nindya-karya/">
                                <div class="absolute bottom-6 left-6 p-4 bg-black/60 rounded-md shadow-md text-white">
                                    <h2 class="text-2xl font-semibold">PT. Nindya Karya</h2>
                                    <p class="mt-1 text-sm text-gray-300">Program pelatihan yang dirancang untuk meningkatkan keterampilan dan pemahaman peserta tentang praktik dan alat DevOps.</p>
                                </div>
                            </a>
                        </div>
                    </div>

                    <!-- Slide 2 -->
                    <div class="w-full flex-shrink-0">
                        <div class="relative h-96 bg-cover bg-center" style="background-image: url('/src/img/t-erajaya/WHY00007.jpg')">
                            <div class="absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"></div>
                            <a href="/t-erajaya/">
                                <div class="absolute bottom-6 left-6 p-4 bg-black/60 rounded-md shadow-md text-white">
                                    <h2 class="text-2xl font-semibold">PT. Erajaya</h2>
                                    <p class="mt-1 text-sm text-gray-300">program pelatihan yang dirancang untuk meningkatkan keterampilan dan pemahaman peserta tentang praktik dan alat DevOps.</p>
                                </div>
                            </a>
                        </div>
                    </div>

                    <!-- Slide 3 -->
                    <div class="w-full flex-shrink-0">
                        <div class="relative h-96 bg-cover bg-center" style="background-image: url('/src/img/t-bank-jateng/Thumbnail.png')">
                            <div class="absolute inset-0 bg-gradient-to-r from-black/40 to-transparent"></div>
                            <a href="/t-bank-jateng/">
                                <div class="absolute bottom-6 left-6 p-4 bg-black/60 rounded-md shadow-md text-white">
                                    <h2 class="text-2xl font-semibold">Bank Jateng</h2>
                                    <p class="mt-1 text-sm text-gray-300">Program pelatihan yang bertujuan untuk memperkenalkan konsep arsitektur microservices kepada peserta.</p>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <button id="prev" class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/40 p-3 rounded-full shadow-md text-white transition-colors">
                    &larr;
                </button>
                <button id="next" class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/40 p-3 rounded-full shadow-md text-white transition-colors">
                    &rarr;
                </button>
            </div>

        </div>
    </div>
</section>

<script>
    const carousel = document.getElementById('carousel');
    const slides = carousel.children;
    const totalSlides = slides.length;
    let currentIndex = 0;
    const intervalTime = 3000; // Change slide every 3 seconds
    let autoSlide;

    // Function to start automatic sliding
    function startCarousel() {
        autoSlide = setInterval(() => {
            currentIndex = (currentIndex + 1) % totalSlides;
            updateCarousel();
        }, intervalTime);
    }

    // Function to update the carousel's position
    function updateCarousel() {
        carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
        console.log(`Slide index: ${currentIndex}, Transform: translateX(-${currentIndex * 100}%)`);
    }

    // Function for manual navigation with auto-slide reset
    function manualSlide(indexChange) {
        clearInterval(autoSlide); // Pause auto sliding when navigating manually
        currentIndex = (currentIndex + indexChange + totalSlides) % totalSlides;
        updateCarousel();
        startCarousel(); // Restart auto sliding after manual navigation
    }

    // Event Listeners for buttons
    document.getElementById('next').addEventListener('click', () => manualSlide(1));
    document.getElementById('prev').addEventListener('click', () => manualSlide(-1));

    // Start the automatic carousel as soon as the page loads
    window.addEventListener('load', startCarousel);
</script>
{{end}}